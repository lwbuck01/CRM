Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var a;return a=this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){var a;return a=this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},attached:function(){this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},fit:function(){this._discoverInfo(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null,css:a.position},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}}}},resetFit:function(){this._fitInfo&&this._fitInfo.sizedBy.height||(this.sizingTarget.style.maxHeight="",this.style.top=""),this._fitInfo&&this._fitInfo.sizedBy.width||(this.sizingTarget.style.maxWidth="",this.style.left=""),this._fitInfo&&(this.style.position=this._fitInfo.positionedBy.css),this._fitInfo=null},refit:function(){this.resetFit(),this.fit()},constrain:function(){var a=this._fitInfo;this._fitInfo.positionedBy.vertically||(this.style.top="0px"),this._fitInfo.positionedBy.horizontally||(this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this._sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height"),a.sizedBy.width||this._sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")},_sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g="Width"===e?this._fitWidth:this._fitHeight,h=b===d,i=h?g-a[d]:a[c],j=f.margin[h?c:d],k="offset"+e,l=this[k]-this.sizingTarget[k];this.sizingTarget.style["max"+e]=g-j-i-l+"px"},center:function(){if(this._fitInfo.positionedBy.vertically&&this._fitInfo.positionedBy.horizontally||(this.style.position="fixed"),!this._fitInfo.positionedBy.vertically){var a=(this._fitHeight-this.offsetHeight)/2;a-=this._fitInfo.margin.top,this.style.top=a+"px"}if(!this._fitInfo.positionedBy.horizontally){var b=(this._fitWidth-this.offsetWidth)/2;b-=this._fitInfo.margin.left,this.style.left=b+"px"}}};