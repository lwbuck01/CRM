Polymer.nar=[],Polymer.Annotations={parseAnnotations:function(a){var b=[],c=a._content||a.content;return this._parseNodeAnnotations(c,b),b},_parseNodeAnnotations:function(a,b){return a.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(a,b):this._parseElementAnnotations(a,b)},_testEscape:function(a){var b=a.slice(0,2);if("{{"===b||"[["===b)return b},_parseTextNodeAnnotation:function(a,b){var c=a.textContent,d=this._testEscape(c);if(d){a.textContent=" ";var e={bindings:[{kind:"text",mode:d[0],value:c.slice(2,-2).trim()}]};return b.push(e),e}},_parseElementAnnotations:function(a,b){var c={bindings:[],events:[]};return this._parseChildNodesAnnotations(a,c,b),a.attributes&&(this._parseNodeAttributeAnnotations(a,c,b),this.prepElement&&this.prepElement(a)),(c.bindings.length||c.events.length||c.id)&&b.push(c),c},_parseChildNodesAnnotations:function(a,b,c,d){if(a.firstChild)for(var e=0,f=a.firstChild;f;f=f.nextSibling,e++){"template"!==f.localName||f.hasAttribute("preserve-content")||this._parseTemplate(f,e,c,b);var g=this._parseNodeAnnotations(f,c,d);g&&(g.parent=b,g.index=e)}},_parseTemplate:function(a,b,c,d){var e=document.createDocumentFragment();e._notes=this.parseAnnotations(a),e.appendChild(a.content),c.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:e,parent:d,index:b})},_parseNodeAttributeAnnotations:function(a,b){for(var c,d=a.attributes.length-1;c=a.attributes[d];d--){var e=c.name,f=c.value;if("id"!==e||this._testEscape(f))if("on-"===e.slice(0,3))a.removeAttribute(e),b.events.push({name:e.slice(3),value:f});else{var g=this._parseNodeAttributeAnnotation(a,e,f);g&&b.bindings.push(g)}else b.id=f}},_parseNodeAttributeAnnotation:function(a,b,c){var d=this._testEscape(c);if(d){var e,f=b,g=d[0];c=c.slice(2,-2).trim();var h=!1;"!"==c[0]&&(c=c.substring(1),h=!0);var i="property";"$"==b[b.length-1]&&(f=b.slice(0,-1),i="attribute");var j,k;return"{"==g&&(k=c.indexOf("::"))>0&&(j=c.substring(k+2),c=c.substring(0,k),e=!0),"input"==a.localName&&"value"==b&&a.setAttribute(b,""),a.removeAttribute(b),"property"===i&&(f=Polymer.CaseMap.dashToCamelCase(f)),{kind:i,mode:g,name:f,value:c,negate:h,event:j,customEvent:e}}},_localSubTree:function(a,b){return a===b?a.childNodes:a._lightChildren||a.childNodes},findAnnotatedNode:function(a,b){var c=b.parent&&Polymer.Annotations.findAnnotatedNode(a,b.parent);return c?Polymer.Annotations._localSubTree(c,a)[b.index]:a}},function(){function a(a,b){return a.replace(h,function(a,d,e,f){return d+"'"+c(e.replace(/["']/g,""),b)+"'"+f})}function b(b,d){for(var e in i)for(var f,g,h,k=i[e],l=0,m=k.length;l<m&&(f=k[l]);l++)"*"!==e&&b.localName!==e||(g=b.attributes[f],h=g&&g.value,h&&h.search(j)<0&&(g.value="style"===f?a(h,d):c(h,d)))}function c(a,b){var c=e(b);return c.href=a,c.href||a}function d(a,b){return f||(f=document.implementation.createHTMLDocument("temp"),g=f.createElement("base"),f.head.appendChild(g)),g.href=b,c(a,f)}function e(a){return a.__urlResolver||(a.__urlResolver=a.createElement("a"))}var f,g,h=/(url\()([^)]*)(\))/g,i={"*":["href","src","style","url"],form:["action"]},j=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:a,resolveAttrs:b,resolveUrl:d}}(),Polymer.Base._addFeature({_prepAnnotations:function(){this._template?(Polymer.Annotations.prepElement=this._prepElement.bind(this),this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes),Polymer.Annotations.prepElement=null):this._notes=[]},_processAnnotations:function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.bindings.length;d++){var e=c.bindings[d];e.signature=this._parseMethod(e.value),e.signature||(e.model=this._modelForPath(e.value))}if(c.templateContent){this._processAnnotations(c.templateContent._notes);var f=c.templateContent._parentProps=this._discoverTemplateParentProps(c.templateContent._notes),g=[];for(var h in f)g.push({index:c.index,kind:"property",mode:"{",name:"_parent_"+h,model:h,value:h});c.bindings=c.bindings.concat(g)}}},_discoverTemplateParentProps:function(a){var b={};return a.forEach(function(a){if(a.bindings.forEach(function(a){if(a.signature)for(var c=a.signature.args,d=0;d<c.length;d++)b[c[d].model]=!0;else b[a.model]=!0}),a.templateContent){var c=a.templateContent._parentProps;Polymer.Base.mixin(b,c)}}),b},_prepElement:function(a){Polymer.ResolveUrl.resolveAttrs(a,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){this._configureTemplateContent()},_configureTemplateContent:function(){this._notes.forEach(function(a,b){a.templateContent&&(this._nodes[b]._content=a.templateContent)},this)},_marshalIdNodes:function(){this.$={},this._notes.forEach(function(a){a.id&&(this.$[a.id]=this._findAnnotatedNode(this.root,a))},this)},_marshalAnnotatedNodes:function(){this._nodes&&(this._nodes=this._nodes.map(function(a){return this._findAnnotatedNode(this.root,a)},this))},_marshalAnnotatedListeners:function(){this._notes.forEach(function(a){if(a.events&&a.events.length){var b=this._findAnnotatedNode(this.root,a);a.events.forEach(function(a){this.listen(b,a.name,a.value)},this)}},this)}}),Polymer.Base._addFeature({listeners:{},_listenListeners:function(a){var b,c,d;for(d in a)d.indexOf(".")<0?(b=this,c=d):(c=d.split("."),b=this.$[c[0]],c=c[1]),this.listen(b,c,a[d])},listen:function(a,b,c){this._listen(a,b,this._createEventHandler(a,b,c))},_createEventHandler:function(a,b,c){var d=this;return function(a){d[c]?d[c](a,a.detail):d._warn(d._logf("_createEventHandler","listener method `"+c+"` not defined"))}},_listen:function(a,b,c){a.addEventListener(b,c)}}),function(){"use strict";function a(a){for(var b,c=0;c<l.length;c++)b=l[c],a?document.addEventListener(b,m,!0):document.removeEventListener(b,m,!0)}function b(){n.mouse.mouseIgnoreJob||a(!0);var b=function(){a(),n.mouse.target=null,n.mouse.mouseIgnoreJob=null};n.mouse.mouseIgnoreJob=Polymer.Debounce(n.mouse.mouseIgnoreJob,b,k)}function c(a){for(var b,c=Polymer.dom(a).path,d="auto",e=0;e<c.length;e++)if(b=c[e],b[g]){d=b[g];break}return d}var d="string"==typeof document.head.style.touchAction,e="__polymerGestures",f="__polymerGesturesHandled",g="__polymerGesturesTouchAction",h=25,i=5,j=2,k=2500,l=["mousedown","mousemove","mouseup","click"],m=function(a){if(a[f]={skip:!0},"click"===a.type){for(var b=Polymer.dom(a).path,c=0;c<b.length;c++)if(b[c]===n.mouse.target)return;a.preventDefault(),a.stopPropagation()}},n={tapPrevented:!1,mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}},o={gestures:{},recognizers:[],deepTargetFind:function(a,b){for(var c=document.elementFromPoint(a,b),d=c;d&&d.shadowRoot;)d=d.shadowRoot.elementFromPoint(a,b),d&&(c=d);return c},handleNative:function(a){var c,g=a.type,h=a.currentTarget,i=h[e],j=i[g];if(j){if(!a[f]&&(a[f]={},"touch"===g.slice(0,5))){var k=a.changedTouches[0];if("touchstart"===g&&1===a.touches.length&&(n.touch.id=k.identifier),n.touch.id!==k.identifier)return;d||"touchstart"!==g&&"touchmove"!==g||o.handleTouchAction(a),"touchend"===g&&(n.mouse.target=Polymer.dom(a).rootTarget,b(!0))}if(c=a[f],!c.skip)for(var l,m=o.recognizers,p=0;p<m.length;p++)l=m[p],j[l.name]&&!c[l.name]&&(c[l.name]=!0,l[g](a))}},handleTouchAction:function(a){var b=a.changedTouches[0],d=a.type;if("touchstart"===d)n.touch.x=b.clientX,n.touch.y=b.clientY,n.touch.scrollDecided=!1;else if("touchmove"===d){if(n.touch.scrollDecided)return;n.touch.scrollDecided=!0;var e=c(a),f=!1,g=Math.abs(n.touch.x-b.clientX),h=Math.abs(n.touch.y-b.clientY);a.cancelable&&("none"===e?f=!0:"pan-x"===e?f=h>g:"pan-y"===e&&(f=g>h)),f&&a.preventDefault()}},add:function(a,b,c){var d=this.gestures[b],f=d.deps,g=d.name,h=a[e];h||(a[e]=h={});for(var i,j,k=0;k<f.length;k++)i=f[k],j=h[i],j||(h[i]=j={},a.addEventListener(i,this.handleNative)),j[g]=(j[g]||0)+1;a.addEventListener(b,c),d.touchAction&&this.setTouchAction(a,d.touchAction)},register:function(a){this.recognizers.push(a);for(var b=0;b<a.emits.length;b++)this.gestures[a.emits[b]]=a},setTouchAction:function(a,b){d&&(a.style.touchAction=b),a[g]=b},fire:function(a,b,c){var d=new CustomEvent(b,{detail:c,bubbles:!0,cancelable:!0});a.dispatchEvent(d)}};o.register({name:"downup",deps:["mousedown","touchstart","touchend"],emits:["down","up"],mousedown:function(a){var b=a.currentTarget,c=this,d=function a(d){c.fire("up",b,d),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",d),this.fire("down",b,a)},touchstart:function(a){this.fire("down",a.currentTarget,a.changedTouches[0])},touchend:function(a){this.fire("up",a.currentTarget,a.changedTouches[0])},fire:function(a,b,c){o.fire(b,a,{x:c.clientX,y:c.clientY,sourceEvent:c})}}),o.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(a){this.moves.length>j&&this.moves.shift(),this.moves.push(a)}},clearInfo:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0},hasMovedEnough:function(a,b){if(this.info.started)return!0;var c=Math.abs(this.info.x-a),d=Math.abs(this.info.y-b);return c>=i||d>=i},mousedown:function(a){var b=a.currentTarget,c=this,d=function(a){var d=a.clientX,e=a.clientY;c.hasMovedEnough(d,e)&&(c.info.state=c.info.started?"mouseup"===a.type?"end":"track":"start",c.info.addMove({x:d,y:e}),c.fire(b,a),a.preventDefault(),c.info.started=!0)},e=function a(b){c.info.started&&(n.tapPrevented=!0,d(b)),c.clearInfo(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",e),this.info.x=a.clientX,this.info.y=a.clientY},touchstart:function(a){var b=a.changedTouches[0];this.info.x=b.clientX,this.info.y=b.clientY},touchmove:function(a){var b=a.currentTarget,c=a.changedTouches[0],d=c.clientX,e=c.clientY;this.hasMovedEnough(d,e)&&(this.info.addMove({x:d,y:e}),this.fire(b,c),this.info.state="track",this.info.started=!0)},touchend:function(a){var b=a.currentTarget,c=a.changedTouches[0];this.info.started&&(n.tapPrevented=!0,this.info.state="end",this.info.addMove({x:c.clientX,y:c.clientY}),this.fire(b,c)),this.clearInfo()},fire:function(a,b){var c,d=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-1],f=e.x-this.info.x,g=e.y-this.info.y,h=0;return d&&(c=e.x-d.x,h=e.y-d.y),o.fire(a,"track",{state:this.info.state,x:b.clientX,y:b.clientY,dx:f,dy:g,ddx:c,ddy:h,sourceEvent:b,hover:function(){return o.deepTargetFind(b.clientX,b.clientY)}})}}),o.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],emits:["tap"],start:{x:NaN,y:NaN},reset:function(){this.start.x=NaN,this.start.y=NaN},save:function(a){this.start.x=a.clientX,this.start.y=a.clientY},mousedown:function(a){n.tapPrevented=!1,this.save(a)},click:function(a){this.forward(a)},touchstart:function(a){n.tapPrevented=!1,this.save(a.changedTouches[0])},touchend:function(a){this.forward(a.changedTouches[0])},forward:function(a){var b=Math.abs(a.clientX-this.start.x),c=Math.abs(a.clientY-this.start.y);(isNaN(b)||isNaN(c)||b<=h&&c<=h)&&(n.tapPrevented||o.fire(a.target,"tap",{x:a.clientX,y:a.clientY,sourceEvent:a})),this.reset()}});var p={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_listen:function(a,b,c){o.gestures[b]?o.add(a,b,c):a.addEventListener(b,c)},setScrollDirection:function(a,b){b=b||this,o.setTouchAction(b,p[a]||"auto")}}),Polymer.Gestures=o}(),Polymer.Async=function(){function a(a,b){return b>0?~setTimeout(a,b):(g.textContent=d++,f.push(a),d-1)}function b(a){if(a<0)clearTimeout(~a);else{var b=a-e;if(b>=0){if(!f[b])throw"invalid async handle: "+a;f[b]=null}}}function c(){for(var a=f.length,b=0;b<a;b++){var c=f[b];c&&c()}f.splice(0,a),e+=a}var d=0,e=0,f=[],g=document.createTextNode("");return new(window.MutationObserver||JsMutationObserver)(c).observe(g,{characterData:!0}),{run:a,cancel:b}}(),Polymer.Debounce=function(){function a(a,b,d){return a?a.stop():a=new c(this),a.go(b,d),a}var b=Polymer.Async,c=function(a){this.context=a,this.boundComplete=this.complete.bind(this)};return c.prototype={go:function(a,c){var d;this.finish=function(){b.cancel(d)},d=b.run(this.boundComplete,c),this.callback=a},stop:function(){this.finish&&(this.finish(),this.finish=null)},complete:function(){this.finish&&(this.stop(),this.callback.call(this.context))}},a}(),Polymer.Base._addFeature({$$:function(a){return Polymer.dom(this.root).querySelector(a)},toggleClass:function(a,b,c){c=c||this,1==arguments.length&&(b=!c.classList.contains(a)),b?Polymer.dom(c).classList.add(a):Polymer.dom(c).classList.remove(a)},toggleAttribute:function(a,b,c){c=c||this,1==arguments.length&&(b=!c.hasAttribute(a)),b?Polymer.dom(c).setAttribute(a,""):Polymer.dom(c).removeAttribute(a)},classFollows:function(a,b,c){c&&Polymer.dom(c).classList.remove(a),b&&Polymer.dom(b).classList.add(a)},attributeFollows:function(a,b,c){c&&Polymer.dom(c).removeAttribute(a),b&&Polymer.dom(b).setAttribute(a,"")},getContentChildNodes:function(a){return Polymer.dom(Polymer.dom(this.root).querySelector(a||"content")).getDistributedNodes()},getContentChildren:function(a){return this.getContentChildNodes(a).filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},fire:function(a,b,c){c=c||Polymer.nob;var d=c.node||this,b=null===b||void 0===b?Polymer.nob:b,e=void 0===c.bubbles||c.bubbles,f=document.createEvent("CustomEvent");return f.initCustomEvent(a,Boolean(e),Boolean(c.cancelable),b),d.dispatchEvent(f),f},async:function(a,b){return Polymer.Async.run(a.bind(this),b)},cancelAsync:function(a){Polymer.Async.cancel(a)},arrayDelete:function(a,b){var c;if(Array.isArray(a)){if(c=a.indexOf(b),c>=0)return a.splice(c,1)}else{var d=this.get(a);if(c=d.indexOf(b),c>=0)return this.splice(a,c,1)}},transform:function(a,b){b=b||this,b.style.webkitTransform=a,b.style.transform=a},translate3d:function(a,b,c,d){d=d||this,this.transform("translate3d("+a+","+b+","+c+")",d)},importHref:function(a,b,c){var d=document.createElement("link");return d.rel="import",d.href=a,b&&(d.onload=b.bind(this)),c&&(d.onerror=c.bind(this)),document.head.appendChild(d),d},create:function(a,b){var c=document.createElement(a);if(b)for(var d in b)c[d]=b[d];return c},mixin:function(a,b){for(var c in b)a[c]=b[c]}}),Polymer.Bind={prepareModel:function(a){a._propertyEffects={},a._bindListeners=[];var b=this._modelApi;for(var c in b)a[c]=b[c]},_modelApi:{_notifyChange:function(a){var b=Polymer.CaseMap.camelToDashCase(a)+"-changed";this.fire(b,{value:this[a]},{bubbles:!1})},_propertySet:function(a,b,c){var d=this.__data__[a];return d!==b&&(this.__data__[a]=b,"object"==typeof b&&this._clearPath(a),this._propertyChanged&&this._propertyChanged(a,b,d),c&&this._effectEffects(a,b,c,d)),d},_effectEffects:function(a,b,c,d){c.forEach(function(c){var e=Polymer.Bind["_"+c.kind+"Effect"];e&&e.call(this,a,b,c.effect,d)},this)},_clearPath:function(a){for(var b in this.__data__)0===b.indexOf(a+".")&&(this.__data__[b]=void 0)}},ensurePropertyEffects:function(a,b){var c=a._propertyEffects[b];return c||(c=a._propertyEffects[b]=[]),c},addPropertyEffect:function(a,b,c,d){var e=this.ensurePropertyEffects(a,b);e.push({kind:c,effect:d})},createBindings:function(a){var b=a._propertyEffects;if(b)for(var c in b){var d=b[c];d.sort(this._sortPropertyEffects),this._createAccessors(a,c,d)}},_sortPropertyEffects:function(){var a={compute:0,annotation:1,computedAnnotation:2,reflect:3,notify:4,observer:5,complexObserver:6,function:7};return function(b,c){return a[b.kind]-a[c.kind]}}(),_createAccessors:function(a,b,c){var d={get:function(){return this.__data__[b]}},e=function(a){this._propertySet(b,a,c)};a.getPropertyInfo&&a.getPropertyInfo(b).readOnly?a["_set"+this.upper(b)]=e:d.set=e,Object.defineProperty(a,b,d)},upper:function(a){return a[0].toUpperCase()+a.substring(1)},_addAnnotatedListener:function(a,b,c,d,e){var f=this._notedListenerFactory(c,d,this._isStructured(d),this._isEventBogus),g=e||Polymer.CaseMap.camelToDashCase(c)+"-changed";a._bindListeners.push({index:b,property:c,path:d,changedFn:f,event:g})},_isStructured:function(a){return a.indexOf(".")>0},_isEventBogus:function(a,b){return a.path&&a.path[0]!==b},_notedListenerFactory:function(a,b,c,d){return function(e,f){if(!d(e,f))if(e.detail&&e.detail.path)this.notifyPath(this._fixPath(b,a,e.detail.path),e.detail.value);else{var g=f[a];c?this.__data__[b]!=g&&this.set(b,g):this[b]=f[a]}}},prepareInstance:function(a){a.__data__=Object.create(null)},setupBindListeners:function(a){a._bindListeners.forEach(function(b){var c=a._nodes[b.index];c.addEventListener(b.event,a._notifyListener.bind(a,b.changedFn))})}},Polymer.Base.extend(Polymer.Bind,{_shouldAddListener:function(a){return a.name&&"{"===a.mode&&!a.negate&&"attribute"!=a.kind},_annotationEffect:function(a,b,c){a!=c.value&&(b=this.get(c.value),this.__data__[c.value]=b);var d=c.negate?!b:b;if(!c.customEvent||this._nodes[c.index][c.name]!==d)return this._applyEffectValue(d,c)},_reflectEffect:function(a){this.reflectPropertyToAttribute(a)},_notifyEffect:function(a){this._notifyChange(a)},_functionEffect:function(a,b,c,d){c.call(this,a,b,d)},_observerEffect:function(a,b,c,d){var e=this[c.method];e?e.call(this,b,d):this._warn(this._logf("_observerEffect","observer method `"+c.method+"` not defined"))},_complexObserverEffect:function(a,b,c){var d=this[c.method];if(d){var e=Polymer.Bind._marshalArgs(this.__data__,c,a,b);e&&d.apply(this,e)}else this._warn(this._logf("_complexObserverEffect","observer method `"+c.method+"` not defined"))},_computeEffect:function(a,b,c){var d=Polymer.Bind._marshalArgs(this.__data__,c,a,b);if(d){var e=this[c.method];e?this[c.property]=e.apply(this,d):this._warn(this._logf("_computeEffect","compute method `"+c.method+"` not defined"))}},_annotatedComputationEffect:function(a,b,c){var d=this._rootDataHost||this,e=d[c.method];if(e){var f=Polymer.Bind._marshalArgs(this.__data__,c,a,b);if(f){var g=e.apply(d,f);c.negate&&(g=!g),this._applyEffectValue(g,c)}}else d._warn(d._logf("_annotatedComputationEffect","compute method `"+c.method+"` not defined"))},_marshalArgs:function(a,b,c,d){for(var e=[],f=b.args,g=0,h=f.length;g<h;g++){var i=f[g],j=i.name;if(i.literal?v=i.value:i.structured?v=Polymer.Base.get(j,a):v=a[j],f.length>1&&void 0===v)return;if(i.wildcard){var k=0===j.indexOf(c+"."),l=0===b.trigger.name.indexOf(j)&&!k;e[g]={path:l?c:j,value:l?d:v,base:v}}else e[g]=v}return e}}),Polymer.Base._addFeature({_addPropertyEffect:function(a,b,c){Polymer.Bind.addPropertyEffect(this,a,b,c)},_prepEffects:function(){Polymer.Bind.prepareModel(this),this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(a){if(a)for(var b in a){var c=a[b];c.observer&&this._addObserverEffect(b,c.observer),c.computed&&this._addComputedEffect(b,c.computed),c.notify&&this._addPropertyEffect(b,"notify"),c.reflectToAttribute&&this._addPropertyEffect(b,"reflect"),c.readOnly&&Polymer.Bind.ensurePropertyEffects(this,b)}},_addComputedEffect:function(a,b){var c=this._parseMethod(b);c.args.forEach(function(b){this._addPropertyEffect(b.model,"compute",{method:c.method,args:c.args,trigger:b,property:a})},this)},_addObserverEffect:function(a,b){this._addPropertyEffect(a,"observer",{method:b,property:a})},_addComplexObserverEffects:function(a){a&&a.forEach(function(a){this._addComplexObserverEffect(a)},this)},_addComplexObserverEffect:function(a){var b=this._parseMethod(a);b.args.forEach(function(a){this._addPropertyEffect(a.model,"complexObserver",{method:b.method,args:b.args,trigger:a})},this)},_addAnnotationEffects:function(a){this._nodes=[],a.forEach(function(a){var b=this._nodes.push(a)-1;a.bindings.forEach(function(a){this._addAnnotationEffect(a,b)},this)},this)},_addAnnotationEffect:function(a,b){Polymer.Bind._shouldAddListener(a)&&Polymer.Bind._addAnnotatedListener(this,b,a.name,a.value,a.event),a.signature?this._addAnnotatedComputationEffect(a,b):(a.index=b,this._addPropertyEffect(a.model,"annotation",a))},_addAnnotatedComputationEffect:function(a,b){var c=a.signature;c.static?this.__addAnnotatedComputationEffect("__static__",b,a,c,null):c.args.forEach(function(d){d.literal||this.__addAnnotatedComputationEffect(d.model,b,a,c,d)},this)},__addAnnotatedComputationEffect:function(a,b,c,d,e){this._addPropertyEffect(a,"annotatedComputation",{index:b,kind:c.kind,property:c.name,negate:c.negate,method:d.method,args:d.args,trigger:e})},_parseMethod:function(a){var b=a.match(/(\w*)\((.*)\)/);if(b){var c={method:b[1],static:!0};if(b[2].trim()){var d=b[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(d,c)}return c.args=Polymer.nar,c}},_parseArgs:function(a,b){return b.args=a.map(function(a){var c=this._parseArg(a);return c.literal||(b.static=!1),c},this),b},_parseArg:function(a){var b=a.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),c={name:b,model:this._modelForPath(b)},d=b[0];switch(d>="0"&&d<="9"&&(d="#"),d){case"'":case'"':c.value=b.slice(1,-1),c.literal=!0;break;case"#":c.value=Number(b),c.literal=!0}return c.literal||(c.structured=b.indexOf(".")>0,c.structured&&(c.wildcard=".*"==b.slice(-2),c.wildcard&&(c.name=b.slice(0,-2)))),c},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this),Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(a,b){var c=this._nodes[b.index],d=b.property||b.name||"textContent";return"attribute"!=b.kind?("className"===d&&(a=this._scopeElementClass(c,a)),("textContent"===d||"input"==c.localName&&"value"==d)&&(a=void 0==a?"":a),c[d]=a):void this.serializeValueToAttribute(a,d,c)},_executeStaticEffects:function(){this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}}),Polymer.Base._addFeature({_setupConfigure:function(a){this._config=a||{},this._handlers=[]},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_configValue:function(a,b){this._config[a]=b},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();var a={};this.behaviors.forEach(function(b){this._configureProperties(b.properties,a)},this),this._configureProperties(this.properties,a),this._mixinConfigure(a,this._config),this._config=a,this._distributeConfig(this._config)},_configureProperties:function(a,b){for(var c in a){var d=a[c];if(void 0!==d.value){var e=d.value;"function"==typeof e&&(e=e.call(this,this._config)),b[c]=e}}},_mixinConfigure:function(a,b){for(var c in b)this.getPropertyInfo(c).readOnly||(a[c]=b[c])},_distributeConfig:function(a){var b=this._propertyEffects;if(b)for(var c in a){var d=b[c];if(d)for(var e,f=0,g=d.length;f<g&&(e=d[f]);f++)if("annotation"===e.kind){var h=this._nodes[e.effect.index];if(h._configValue){var i=c===e.effect.value?a[c]:this.get(e.effect.value,a);h._configValue(e.effect.name,i)}}}},_afterClientsReady:function(){this._executeStaticEffects(),this._applyConfig(this._config),this._flushHandlers()},_applyConfig:function(a){for(var b in a)if(void 0===this[b]){var c=this._propertyEffects[b];c?this._propertySet(b,a[b],c):this[b]=a[b]}},_notifyListener:function(a,b){return this._clientsReadied?a.call(this,b,b.target):void this._queueHandler([a,b,b.target])},_queueHandler:function(a){this._handlers.push(a)},_flushHandlers:function(){for(var a,b=this._handlers,c=0,d=b.length;c<d&&(a=b[c]);c++)a[0].call(this,a[1],a[2])}}),function(){"use strict";Polymer.Base._addFeature({notifyPath:function(a,b,c){var d=this._propertySet(a,b);d!==b&&(this._pathEffector(a,b),c||this._notifyPath(a,b))},_getPathParts:function(a){if(Array.isArray(a)){for(var b=[],c=0;c<a.length;c++)for(var d=a[c].toString().split("."),e=0;e<d.length;e++)b.push(d[e]);return b}return a.toString().split(".")},set:function(a,b,c){var d,e=c||this,f=this._getPathParts(a),g=f[f.length-1];if(f.length>1){for(var h=0;h<f.length-1;h++){if(e=e[f[h]],d&&(f[h]=Polymer.Collection.get(d).getKey(e)),!e)return;d=Array.isArray(e)?e:null}e[g]=b,c||this.notifyPath(f.join("."),b)}else e[a]=b},get:function(a,b){for(var c=b||this,d=this._getPathParts(a),e=d.pop();d.length;)if(c=c[d.shift()],!c)return;return c[e]},_pathEffector:function(a,b){var c=this._modelForPath(a),d=this._propertyEffects[c];d&&d.forEach(function(c){var d=this["_"+c.kind+"PathEffect"];d&&d.call(this,a,b,c.effect)},this),this._boundPaths&&this._notifyBoundPaths(a,b)},_annotationPathEffect:function(a,b,c){if(c.value===a||0===c.value.indexOf(a+"."))Polymer.Bind._annotationEffect.call(this,a,b,c);else if(0===a.indexOf(c.value+".")&&!c.negate){var d=this._nodes[c.index];if(d&&d.notifyPath){var e=this._fixPath(c.name,c.value,a);d.notifyPath(e,b,!0)}}},_complexObserverPathEffect:function(a,b,c){this._pathMatchesEffect(a,c)&&Polymer.Bind._complexObserverEffect.call(this,a,b,c)},_computePathEffect:function(a,b,c){this._pathMatchesEffect(a,c)&&Polymer.Bind._computeEffect.call(this,a,b,c)},_annotatedComputationPathEffect:function(a,b,c){this._pathMatchesEffect(a,c)&&Polymer.Bind._annotatedComputationEffect.call(this,a,b,c)},_pathMatchesEffect:function(a,b){var c=b.trigger.name;return c==a||0===c.indexOf(a+".")||b.trigger.wildcard&&0===a.indexOf(c)},linkPaths:function(a,b){this._boundPaths=this._boundPaths||{},b?this._boundPaths[a]=b:this.unbindPath(a)},unlinkPaths:function(a){this._boundPaths&&delete this._boundPaths[a]},_notifyBoundPaths:function(a,b){var c,d;for(var e in this._boundPaths){var f=this._boundPaths[e];if(0==a.indexOf(e+".")){c=e,d=f;break}if(0==a.indexOf(f+".")){c=f,d=e;break}}if(c&&d){var g=this._fixPath(d,c,a);this.notifyPath(g,b)}},_fixPath:function(a,b,c){return a+c.slice(b.length)},_notifyPath:function(a,b){var c=this._modelForPath(a),d=Polymer.CaseMap.camelToDashCase(c),e=d+this._EVENT_CHANGED;this.fire(e,{path:a,value:b},{bubbles:!1})},_modelForPath:function(a){var b=a.indexOf(".");return b<0?a:a.slice(0,b)},_EVENT_CHANGED:"-changed",_notifySplice:function(a,b,c,d,e){var f=[{index:c,addedCount:d,removed:e,object:a,type:"splice"}],g={keySplices:Polymer.Collection.get(a).applySplices(f),indexSplices:f};this.set(b+".splices",g),d!=e.length&&this.notifyPath(b+".length",a.length),g.keySplices=null,g.indexSplices=null},push:function(a){var b=this.get(a),c=Array.prototype.slice.call(arguments,1),d=b.length,e=b.push.apply(b,c);return this._notifySplice(b,a,d,c.length,[]),e},pop:function(a){var b=this.get(a),c=Array.prototype.slice.call(arguments,1),d=b.slice(-1),e=b.pop.apply(b,c);return this._notifySplice(b,a,b.length,0,d),e},splice:function(a,b,c){var d=this.get(a),e=Array.prototype.slice.call(arguments,1),f=d.slice(b,b+c),g=d.splice.apply(d,e);return this._notifySplice(d,a,b,e.length-2,f),g},shift:function(a){var b=this.get(a),c=Array.prototype.slice.call(arguments,1),d=b.shift.apply(b,c);return this._notifySplice(b,a,0,0,[d]),d},unshift:function(a){var b=this.get(a),c=Array.prototype.slice.call(arguments,1),d=b.unshift.apply(b,c);return this._notifySplice(b,a,0,c.length,[]),d}})}(),Polymer.Base._addFeature({resolveUrl:function(a){var b=Polymer.DomModule.import(this.is),c="";if(b){var d=b.getAttribute("assetpath")||"";c=Polymer.ResolveUrl.resolveUrl(d,b.ownerDocument.baseURI)}return Polymer.ResolveUrl.resolveUrl(a,c)}}),Polymer.CssParse=function(){function a(a){return a[0].selector.indexOf(d)>=0}function b(a){return a.replace(g.customProp,"").replace(g.mixinProp,"").replace(g.mixinApply,"").replace(g.varApply,"")}var c={parse:function(a){return a=this._clean(a),this._parseCss(this._lex(a),a)},_clean:function(a){return a.replace(g.comments,"").replace(g.port,"")},_lex:function(a){for(var b={start:0,end:a.length},c=b,d=0,e=a.length;d<e;d++)switch(a[d]){case this.OPEN_BRACE:c.rules||(c.rules=[]);var f=c,g=f.rules[f.rules.length-1];c={start:d+1,parent:f,previous:g},f.rules.push(c);break;case this.CLOSE_BRACE:c.end=d+1,c=c.parent||b}return b},_parseCss:function(a,b){var c=b.substring(a.start,a.end-1);if(a.parsedCssText=a.cssText=c.trim(),a.parent){var h=a.previous?a.previous.end:a.parent.start;c=b.substring(h,a.start-1),c=c.substring(c.lastIndexOf(";")+1);var i=a.parsedSelector=a.selector=c.trim();a.atRule=0===i.indexOf(f),a.atRule?0===i.indexOf(e)?a.type=this.types.MEDIA_RULE:i.match(g.keyframesRule)&&(a.type=this.types.KEYFRAMES_RULE):0===i.indexOf(d)?a.type=this.types.MIXIN_RULE:a.type=this.types.STYLE_RULE}var j=a.rules;if(j)for(var k,l=0,m=j.length;l<m&&(k=j[l]);l++)this._parseCss(k,b);return a},stringify:function(c,d,e){e=e||"";var f="";if(c.cssText||c.rules){var g=c.rules;if(!g||!d&&a(g))f=d?c.cssText:b(c.cssText),f=f.trim(),f&&(f="  "+f+"\n");else for(var h,i=0,j=g.length;i<j&&(h=g[i]);i++)f=this.stringify(h,d,f)}return f&&(c.selector&&(e+=c.selector+" "+this.OPEN_BRACE+"\n"),e+=f,c.selector&&(e+=this.CLOSE_BRACE+"\n\n")),e},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE:"{",CLOSE_BRACE:"}"},d="--",e="@media",f="@",g={comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^|[\s;])--[^;{]*?:[^{};]*?;/gim,mixinProp:/(?:^|[\s;])--[^;{]*?:[^{;]*?{[^}]*?};?/gim,mixinApply:/@apply[\s]*\([^)]*?\)[\s]*;/gim,varApply:/[^;:]*?:[^;]*var[^;]*;/gim,keyframesRule:/^@[^\s]*keyframes/};return c}(),Polymer.StyleUtil=function(){return{MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css]",toCssText:function(a,b,c){return"string"==typeof a&&(a=this.parser.parse(a)),b&&this.forEachStyleRule(a,b),this.parser.stringify(a,c)},forRulesInStyles:function(a,b){for(var c,d=0,e=a.length;d<e&&(c=a[d]);d++)this.forEachStyleRule(this.rulesForStyle(c),b)},rulesForStyle:function(a){return a.__cssRules||(a.__cssRules=this.parser.parse(a.textContent)),a.__cssRules},clearStyleRules:function(a){a.__cssRules=null},forEachStyleRule:function(a,b){var c=(a.selector,!1);a.type===this.ruleTypes.STYLE_RULE?b(a):a.type!==this.ruleTypes.KEYFRAMES_RULE&&a.type!==this.ruleTypes.MIXIN_RULE||(c=!0);var d=a.rules;if(d&&!c)for(var e,f=0,g=d.length;f<g&&(e=d[f]);f++)this.forEachStyleRule(e,b)},applyCss:function(a,b,c,d){var e=document.createElement("style");if(b&&e.setAttribute("scope",b),e.textContent=a,c=c||document.head,!d){var f=c.querySelectorAll("style[scope]");d=f[f.length-1]}return c.insertBefore(e,d&&d.nextSibling||c.firstChild),e},cssFromModule:function(a){var b=Polymer.DomModule.import(a);if(b&&!b._cssText){for(var c,d="",e=Array.prototype.slice.call(b.querySelectorAll(this.MODULE_STYLES_SELECTOR)),f=0;f<e.length;f++)c=e[f],"style"===c.localName?(c=c.__appliedElement||c,c.parentNode.removeChild(c)):c=c.import&&c.import.body,c&&(d+=Polymer.ResolveUrl.resolveCss(c.textContent,c.ownerDocument));b._cssText=d}return b&&b._cssText||""},parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}(),Polymer.StyleTransformer=function(){var a=Polymer.Settings.useNativeShadow,b=Polymer.StyleUtil,c={dom:function(a,b,c,d){this._transformDom(a,b||"",c,d)},_transformDom:function(a,b,c,d){a.setAttribute&&this.element(a,b,c,d);for(var e=Polymer.dom(a).childNodes,f=0;f<e.length;f++)this._transformDom(e[f],b,c,d)},element:function(a,b,c,e){if(c)e?a.removeAttribute(d):a.setAttribute(d,b);else if(b)if(a.classList)e?(a.classList.remove(d),a.classList.remove(b)):(a.classList.add(d),a.classList.add(b));else if(a.getAttribute){var f=a.getAttribute(p);e?f&&a.setAttribute(p,f.replace(d,"").replace(b,"")):a.setAttribute(p,f+(f?" ":"")+d+" "+b)}},elementStyles:function(c,d){for(var e,f=c._styles,g="",h=0,i=f.length;h<i&&(e=f[h]);h++){var j=b.rulesForStyle(e);g+=a?b.toCssText(j,d):this.css(j,c.is,c.extends,d,c._scopeCssViaAttr)+"\n\n"}return g.trim()},css:function(a,c,d,e,f){var g=this._calcHostScope(c,d);c=this._calcElementScope(c,f);var h=this;return b.toCssText(a,function(a){a.isScoped||(h.rule(a,c,g),a.isScoped=!0),e&&e(a,c,g)})},_calcElementScope:function(a,b){return a?b?m+a+n:l+a:""},_calcHostScope:function(a,b){return b?"[is="+a+"]":a},rule:function(a,b,c){this._transformRule(a,this._transformComplexSelector,b,c)},_transformRule:function(a,b,c,d){
for(var e,g=a.selector.split(f),h=0,i=g.length;h<i&&(e=g[h]);h++)g[h]=b.call(this,e,c,d);a.selector=g.join(f)},_transformComplexSelector:function(a,b,c){var d=!1,e=this;return a=a.replace(g,function(a,f,g){if(!d){var h=e._transformCompoundSelector(g,f,b,c);h.stop&&(d=!0),f=h.combinator,g=h.value}return f+g})},_transformCompoundSelector:function(a,b,c,d){var e=a.search(k);a.indexOf(h)>=0?(a=a.replace(i,function(a,b,c){return d+c}),a=a.replace(h,d)):0!==e&&(a=c?this._transformSimpleSelector(a,c):a),a.indexOf(j)>=0&&(b="");var f;return e>=0&&(a=a.replace(k," "),f=!0),{value:a,combinator:b,stop:f}},_transformSimpleSelector:function(a,b){var c=a.split(o);return c[0]+=b,c.join(o)},rootRule:function(a){this._transformRule(a,this._transformRootSelector)},_transformRootSelector:function(a){return a.match(k)?this._transformComplexSelector(a):a.trim()+e},SCOPE_NAME:"style-scope"},d=c.SCOPE_NAME,e=":not(["+d+"]):not(."+d+")",f=",",g=/(^|[\s>+~]+)([^\s>+~]+)/g,h=":host",i=/(\:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g,j="::content",k=/\:\:content|\:\:shadow|\/deep\//,l=".",m="["+d+"~=",n="]",o=":",p="class";return c}(),Polymer.StyleExtends=function(){var a=Polymer.StyleUtil;return{hasExtends:function(a){return Boolean(a.match(this.rx.EXTEND))},transform:function(b){var c=a.rulesForStyle(b),d=this;return a.forEachStyleRule(c,function(a){d._mapRule(a);if(a.parent)for(var b;b=d.rx.EXTEND.exec(a.cssText);){var c=b[1],e=d._findExtendor(c,a);e&&d._extendRule(a,e)}a.cssText=a.cssText.replace(d.rx.EXTEND,"")}),a.toCssText(c,function(a){a.selector.match(d.rx.STRIP)&&(a.cssText="")},!0)},_mapRule:function(a){if(a.parent){for(var b,c=a.parent.map||(a.parent.map={}),d=a.selector.split(","),e=0;e<d.length;e++)b=d[e],c[b.trim()]=a;return c}},_findExtendor:function(a,b){return b.parent&&b.parent.map&&b.parent.map[a]||this._findExtendor(a,b.parent)},_extendRule:function(a,b){a.parent!==b.parent&&this._cloneAndAddRuleToParent(b,a.parent),a.extends=a.extends||(a.extends=[]),a.extends.push(b),b.selector=b.selector.replace(this.rx.STRIP,""),b.selector=(b.selector&&b.selector+",\n")+a.selector,b.extends&&b.extends.forEach(function(b){this._extendRule(a,b)},this)},_cloneAndAddRuleToParent:function(a,b){a=Object.create(a),a.parent=b,a.extends&&(a.extends=a.extends.slice()),b.rules.push(a)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}(),function(){var a=Polymer.Base._prepElement,b=Polymer.Settings.useNativeShadow,c=Polymer.StyleUtil,d=Polymer.StyleTransformer,e=Polymer.StyleExtends;Polymer.Base._addFeature({_prepElement:function(b){this._encapsulateStyle&&d.element(b,this.is,this._scopeCssViaAttr),a.call(this,b)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!b&&Boolean(this._template)),this._styles=this._collectStyles();var a=d.elementStyles(this);if(a&&this._template){var e=c.applyCss(a,this.is,b?this._template.content:null);b||(this._scopeStyle=e)}},_collectStyles:function(){var a=[],b="",d=this.styleModules;if(d)for(var f,g=0,h=d.length;g<h&&(f=d[g]);g++)b+=c.cssFromModule(f);if(b+=c.cssFromModule(this.is)){var i=document.createElement("style");i.textContent=b,e.hasExtends(i.textContent)&&(b=e.transform(i)),a.push(i)}return a},_elementAdd:function(a){this._encapsulateStyle&&!a.__styleScoped&&d.dom(a,this.is,this._scopeCssViaAttr)},_elementRemove:function(a){this._encapsulateStyle&&d.dom(a,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(a,c){if(!b){var d=this,e=function(a){if(a.nodeType===Node.ELEMENT_NODE){a.className=d._scopeElementClass(a,a.className);var b=a.querySelectorAll("*");Array.prototype.forEach.call(b,function(a){a.className=d._scopeElementClass(a,a.className)})}};if(e(a),c){var f=new MutationObserver(function(a){a.forEach(function(a){if(a.addedNodes)for(var b=0;b<a.addedNodes.length;b++)e(a.addedNodes[b])})});return f.observe(a,{childList:!0,subtree:!0}),f}}}})}(),Polymer.StyleProperties=function(){function a(a,b){var c=parseInt(a/32),d=1<<a%32;b[c]=(b[c]||0)|d}var b=Polymer.Settings.useNativeShadow,c=Polymer.DomApi.matchesSelector,d=Polymer.StyleUtil,e=Polymer.StyleTransformer;return{decorateStyles:function(a){var b=this,c={};d.forRulesInStyles(a,function(a){b.decorateRule(a),b.collectPropertiesInCssText(a.propertyInfo.cssText,c)});var e=[];for(var f in c)e.push(f);return e},decorateRule:function(a){if(a.propertyInfo)return a.propertyInfo;var b={},c={},d=this.collectProperties(a,c);return d&&(b.properties=c,a.rules=null),b.cssText=this.collectCssText(a),a.propertyInfo=b,b},collectProperties:function(a,b){var c=a.propertyInfo;if(!c){for(var d,e,f=this.rx.VAR_ASSIGN,g=a.parsedCssText;d=f.exec(g);)b[d[1]]=(d[2]||d[3]).trim(),e=!0;return e}if(c.properties)return Polymer.Base.mixin(b,c.properties),!0},collectCssText:function(a){var b="",c=a.parsedCssText;c=c.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"");for(var d,e=c.split(";"),f=0;f<e.length;f++)d=e[f],(d.match(this.rx.MIXIN_MATCH)||d.match(this.rx.VAR_MATCH))&&(b+=d+";\n");return b},collectPropertiesInCssText:function(a,b){for(var c;c=this.rx.VAR_CAPTURE.exec(a);)b[c[1]]=!0},reify:function(a){for(var b,c=Object.getOwnPropertyNames(a),d=0;d<c.length;d++)b=c[d],a[b]=this.valueForProperty(a[b],a)},valueForProperty:function(a,b){if(a)if(a.indexOf(";")>=0)a=this.valueForProperties(a,b);else{var c=this,d=function(a,d,e,f){var g=c.valueForProperty(b[e],b)||(b[f]?c.valueForProperty(b[f],b):f);return d+(g||"")};a=a.replace(this.rx.VAR_MATCH,d)}return a&&a.trim()||""},valueForProperties:function(a,b){for(var c,d,e=a.split(";"),f=0;f<e.length&&(c=e[f]);f++){if(d=c.match(this.rx.MIXIN_MATCH))c=this.valueForProperty(b[d[1]],b);else{var g=c.split(":");g[1]&&(g[1]=g[1].trim(),g[1]=this.valueForProperty(g[1],b)||g[1]),c=g.join(":")}e[f]=c&&c.lastIndexOf(";")===c.length-1?c.slice(0,-1):c||""}return e.join(";")},applyProperties:function(a,b){var c="";a.properties||this.decorateRule(a),a.propertyInfo.cssText&&(c=this.valueForProperties(a.propertyInfo.cssText,b)),a.cssText=c},propertyDataFromStyles:function(b,e){var f={},g=this,h=[],i=0;return d.forRulesInStyles(b,function(b){b.propertyInfo||g.decorateRule(b),e&&b.propertyInfo.properties&&c.call(e,b.selector)&&(g.collectProperties(b,f),a(i,h)),i++}),{properties:f,key:h}},scopePropertiesFromStyles:function(a){return a._scopeStyleProperties||(a._scopeStyleProperties=this.selectedPropertiesFromStyles(a,this.SCOPE_SELECTORS)),a._scopeStyleProperties},hostPropertiesFromStyles:function(a){return a._hostStyleProperties||(a._hostStyleProperties=this.selectedPropertiesFromStyles(a,this.HOST_SELECTORS)),a._hostStyleProperties},selectedPropertiesFromStyles:function(a,b){var c={},e=this;return d.forRulesInStyles(a,function(a){a.propertyInfo||e.decorateRule(a);for(var d=0;d<b.length;d++)if(a.parsedSelector===b[d])return void e.collectProperties(a,c)}),c},transformStyles:function(a,c,d){var f=this,g=new RegExp(this.rx.HOST_PREFIX+a.is+this.rx.HOST_SUFFIX);return e.elementStyles(a,function(e){f.applyProperties(e,c),e.cssText&&!b&&f._scopeSelector(e,g,a.is,a._scopeCssViaAttr,d)})},_scopeSelector:function(a,b,c,d,f){a.transformedSelector=a.transformedSelector||a.selector;for(var g,h=a.transformedSelector,i=d?"["+e.SCOPE_NAME+"~="+f+"]":"."+f,j=h.split(","),k=0,l=j.length;k<l&&(g=j[k]);k++)j[k]=g.match(b)?g.replace(c,c+i):i+" "+g;a.selector=j.join(",")},applyElementScopeSelector:function(a,b,c,d){var f=d?a.getAttribute(e.SCOPE_NAME):a.className;v=c?f.replace(c,b):(f?f+" ":"")+this.XSCOPE_NAME+" "+b,f!==v&&(d?a.setAttribute(e.SCOPE_NAME,v):a.className=v)},applyElementStyle:function(a,c,e,f){var g=f?f.textContent||"":this.transformStyles(a,c,e),h=a._customStyle;return h&&!b&&h!==f&&(h._useCount--,h._useCount<=0&&h.parentNode.removeChild(h)),!b&&f&&f.parentNode||(b&&a._customStyle?(a._customStyle.textContent=g,f=a._customStyle):g&&(f=d.applyCss(g,e,b?a.root:null,a._scopeStyle))),f&&(f._useCount=f._useCount||0,a._customStyle!=f&&f._useCount++,a._customStyle=f),f},rx:{VAR_ASSIGN:/(?:^|;\s*)(--[^\:;]*?):\s*?(?:([^;{]*?)|{([^}]*)})(?=;)/gim,MIXIN_MATCH:/(?:^|\W+)@apply[\s]*\(([^)]*)\);?/im,VAR_MATCH:/(^|\W+)var\([\s]*([^,)]*)[\s]*,?[\s]*((?:[^,)]*)|(?:[^;]*\([^;)]*\)))[\s]*?\)/gim,VAR_CAPTURE:/\([\s]*(--[^,\s)]*)(?:,[\s]*(--[^,\s)]*))?(?:\)|,)/gim,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.])",HOST_SUFFIX:"($|[.:[\\s>+~])"},HOST_SELECTORS:[":host"],SCOPE_SELECTORS:[":root"],XSCOPE_NAME:"x-scope"}}(),Polymer.StyleDefaults=function(){var a=Polymer.StyleProperties,b=Polymer.StyleUtil,c=document.createElement("style"),d={style:c,_styles:[c],_properties:null,applyCss:function(a){this.style.textContent+=a,b.clearStyleRules(this.style),this._properties=null},get _styleProperties(){return this._properties||(a.decorateStyles(this._styles),this._styles._scopeStyleProperties=null,this._properties=a.scopePropertiesFromStyles(this._styles)),this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties}};return d}(),function(){Polymer.StyleCache=function(){this.cache={}},Polymer.StyleCache.prototype={MAX:100,store:function(a,b,c,d){b.keyValues=c,b.styles=d;var e=this.cache[a]=this.cache[a]||[];e.push(b),e.length>this.MAX&&e.shift()},retrieve:function(a,b,c){var d=this.cache[a];if(d)for(var e,f=d.length-1;f>=0;f--)if(e=d[f],c===e.styles&&this._objectsEqual(b,e.keyValues))return e},clear:function(){this.cache={}},_objectsEqual:function(a,b){for(var c in a)if(a[c]!==b[c])return!1;return!Array.isArray(a)||a.length===b.length}}}(),function(){var a=Polymer.Base.serializeValueToAttribute,b=Polymer.StyleProperties,c=Polymer.StyleTransformer,d=(Polymer.StyleUtil,Polymer.StyleDefaults),e=Polymer.Settings.useNativeShadow;Polymer.Base._addFeature({_prepStyleProperties:function(){this._ownStylePropertyNames=this._styles?b.decorateStyles(this._styles):[]},_setupStyleProperties:function(){this.customStyle={}},_needsStyleProperties:function(){return Boolean(this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_beforeAttached:function(){!this._scopeSelector&&this._needsStyleProperties()&&this._updateStyleProperties()},_updateStyleProperties:function(){var a,c=this.domHost||d;c._styleCache||(c._styleCache=new Polymer.StyleCache);var g=b.propertyDataFromStyles(c._styles,this);a=c._styleCache.retrieve(this.is,g.key,this._styles);var h=Boolean(a);h?this._styleProperties=a._styleProperties:this._computeStyleProperties(g.properties),this._computeOwnStyleProperties(),h||(a=f.retrieve(this.is,this._ownStyleProperties,this._styles));var i=Boolean(a)&&!h;if(style=this._applyStyleProperties(a),!h){var j=style;e&&(j=style.cloneNode?style.cloneNode(!0):Object.create(style||null)),a={style:j,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},c._styleCache.store(this.is,a,g.key,this._styles),i||f.store(this.is,Object.create(a),this._ownStyleProperties,this._styles)}},_computeStyleProperties:function(a){var c=this.domHost||d;c._styleProperties||c._computeStyleProperties();var e=Object.create(c._styleProperties);this.mixin(e,b.hostPropertiesFromStyles(this._styles)),a=a||b.propertyDataFromStyles(c._styles,this).properties,this.mixin(e,a),this.mixin(e,b.scopePropertiesFromStyles(this._styles)),this.mixin(e,this.customStyle),b.reify(e),this._styleProperties=e},_computeOwnStyleProperties:function(){for(var a,b={},c=0;c<this._ownStylePropertyNames.length;c++)a=this._ownStylePropertyNames[c],b[a]=this._styleProperties[a];this._ownStyleProperties=b},_scopeCount:0,_applyStyleProperties:function(a){var c=this._scopeSelector;return this._scopeSelector=a?a._scopeSelector:this.is+"-"+this.__proto__._scopeCount++,style=b.applyElementStyle(this,this._styleProperties,this._scopeSelector,a&&a.style),!style&&!c||e||b.applyElementScopeSelector(this,this._scopeSelector,c,this._scopeCssViaAttr),style||{}},serializeValueToAttribute:function(b,c,d){if(d=d||this,"class"===c){var e=d===this?this.domHost||this.dataHost:this;e&&(b=e._scopeElementClass(d,b))}d=Polymer.dom(d),a.call(this,b,c,d)},_scopeElementClass:function(a,b){return e||this._scopeCssViaAttr||(b+=(b?" ":"")+g+" "+this.is+(a._scopeSelector?" "+h+" "+a._scopeSelector:"")),b},updateStyles:function(){this.isAttached&&(this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(a){a=a||this.root;for(var b,c=Polymer.dom(a)._query(function(a){return a.shadyRoot||a.shadowRoot}),d=0,e=c.length;d<e&&(b=c[d]);d++)b.updateStyles&&b.updateStyles()}}),Polymer.updateStyles=function(){d._styleCache.clear(),Polymer.Base._updateRootStyles(document)};var f=new Polymer.StyleCache;Polymer.customStyleCache=f;var g=c.SCOPE_NAME,h=b.XSCOPE_NAME}(),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepAttributes(),this._prepExtends(),this._prepConstructor(),this._prepTemplate(),this._prepStyles(),this._prepStyleProperties(),this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepBindings(),this._prepShady()},_prepBehavior:function(a){this._addPropertyEffects(a.properties),this._addComplexObserverEffects(a.observers),this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._poolContent(),this._setupConfigure(),this._setupStyleProperties(),this._pushHost(),this._stampTemplate(),this._popHost(),this._marshalAnnotationReferences(),this._marshalHostAttributes(),this._setupDebouncers(),this._marshalInstanceEffects(),this._marshalBehaviors(),this._marshalAttributes(),this._tryReady()},_marshalBehavior:function(a){this._listenListeners(a.listeners)}}),function(){var a=Polymer.Settings.useNativeShadow,b=Polymer.StyleProperties,c=Polymer.StyleUtil,d=Polymer.StyleDefaults;Polymer({is:"custom-style",extends:"style",created:function(){if(this._appliesToDocument="dom-module"!==this.parentNode.localName,this._appliesToDocument){var a=this.__appliedElement||this,d=c.rulesForStyle(a);b.decorateStyles([a]),this._rulesToDefaultProperties(d),this.async(this._applyStyle)}},_applyStyle:function(){var d=this.__appliedElement||this;this._computeStyleProperties();var e=this._styleProperties;d.textContent=c.toCssText(c.rulesForStyle(d),function(c){":root"===c.selector&&(c.selector="body");var d=c.cssText=c.parsedCssText;c.propertyInfo.cssText&&(d=d.replace(b.rx.VAR_ASSIGN,""),c.cssText=b.valueForProperties(d,e)),a||Polymer.StyleTransformer.rootRule(c)})},_rulesToDefaultProperties:function(a){c.forEachStyleRule(a,function(a){a.propertyInfo.properties||(a.cssText="")});var b=c.parser.stringify(a,!0);b&&d.applyCss(b)}})}(),Polymer.Templatizer={properties:{_hideTemplateChildren:{observer:"_hideTemplateChildrenChanged"}},_templatizerStatic:{count:0,callbacks:{},debouncer:null},_instanceProps:Polymer.nob,created:function(){this._templatizerId=this._templatizerStatic.count++},templatize:function(a){if(a._content||(a._content=a.content),a._content._ctor)return this.ctor=a._content._ctor,void this._prepParentProperties(this.ctor.prototype,a);var b=Object.create(Polymer.Base);this._customPrepAnnotations(b,a),b._prepEffects(),this._customPrepEffects(b),b._prepBehaviors(),b._prepBindings(),this._prepParentProperties(b,a),b._notifyPath=this._notifyPathImpl,b._scopeElementClass=this._scopeElementClassImpl,b.listen=this._listenImpl;var c=this._constructorImpl,d=function(a,b){c.call(this,a,b)};d.prototype=b,b.constructor=d,a._content._ctor=d,this.ctor=d},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_hideTemplateChildrenChanged:function(a){this._hideChildren&&this._hideChildren(a)},_debounceTemplate:function(a){this._templatizerStatic.callbacks[this._templatizerId]=a.bind(this),this._templatizerStatic.debouncer=Polymer.Debounce(this._templatizerStatic.debouncer,this._flushTemplates.bind(this,!0))},_flushTemplates:function(a){for(var b=this._templatizerStatic.debouncer;a||b&&b.finish;){b.stop();var c=this._templatizerStatic.callbacks;this._templatizerStatic.callbacks={};for(var d in c)c[d]();a=!1}},_customPrepEffects:function(a){var b=a._parentProps;for(var c in b)a._addPropertyEffect(c,"function",this._createHostPropEffector(c))},_customPrepAnnotations:function(a,b){a._template=b;var c=b._content;if(!c._notes){var d=a._rootDataHost;d&&(Polymer.Annotations.prepElement=d._prepElement.bind(d)),c._notes=Polymer.Annotations.parseAnnotations(b),Polymer.Annotations.prepElement=null,this._processAnnotations(c._notes)}a._notes=c._notes,a._parentProps=c._parentProps},_prepParentProperties:function(a,b){var c=this._parentProps=a._parentProps;if(this._forwardParentProp&&c){var d,e=a._parentPropProto;if(!e){for(d in this._instanceProps)delete c[d];e=a._parentPropProto=Object.create(null),b!=this&&Polymer.Bind.prepareModel(e);for(d in c){var f="_parent_"+d,g=[{kind:"function",effect:this._createForwardPropEffector(d)},{kind:"notify"}];Polymer.Bind._createAccessors(e,f,g)}}b!=this&&(Polymer.Bind.prepareInstance(b),b._forwardParentProp=this._forwardParentProp.bind(this)),this._extendTemplate(b,e)}},_createForwardPropEffector:function(a){return function(b,c){this._forwardParentProp(a,c)}},_createHostPropEffector:function(a){return function(b,c){this.dataHost["_parent_"+a]=c}},_extendTemplate:function(a,b){Object.getOwnPropertyNames(b).forEach(function(c){var d=a[c],e=Object.getOwnPropertyDescriptor(b,c);Object.defineProperty(a,c,e),void 0!==d&&a._propertySet(c,d)})},_forwardInstancePath:function(a,b,c){},_notifyPathImpl:function(a,b){var c=this.dataHost,d=a.indexOf("."),e=d<0?a:a.slice(0,d);c._forwardInstancePath.call(c,this,a,b),e in c._parentProps&&c.notifyPath("_parent_"+a,b)},_pathEffector:function(a,b,c){this._forwardParentPath&&0===a.indexOf("_parent_")&&this._forwardParentPath(a.substring(8),b),Polymer.Base._pathEffector.apply(this,arguments)},_constructorImpl:function(a,b){this._rootDataHost=b._getRootDataHost(),this._setupConfigure(a),this._pushHost(b),this.root=this.instanceTemplate(this._template),this.root.__styleScoped=!0,this._popHost(),this._marshalAnnotatedNodes(),this._marshalInstanceEffects(),this._marshalAnnotatedListeners();for(var c=[],d=this.root.firstChild;d;d=d.nextSibling)c.push(d),d._templateInstance=this;this._children=c,this._tryReady()},_listenImpl:function(a,b,c){var d=this,e=this._rootDataHost,f=e._createEventHandler(a,b,c),g=function(a){a.model=d,f(a)};e._listen(a,b,g)},_scopeElementClassImpl:function(a,b){var c=this._rootDataHost;if(c)return c._scopeElementClass(a,b)},stamp:function(a){if(a=a||{},this._parentProps)for(var b in this._parentProps)a[b]=this["_parent_"+b];return new this.ctor(a,this)}},Polymer({is:"dom-template",extends:"template",behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}}),Polymer._collections=new WeakMap,Polymer.Collection=function(a){Polymer._collections.set(a,this),this.userArray=a,this.store=a.slice(),this.initMap()},Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var a=this.omap=new WeakMap,b=this.pmap={},c=this.store,d=0;d<c.length;d++){var e=c[d];e&&"object"==typeof e?a.set(e,d):b[e]=d}},add:function(a){var b=this.store.push(a)-1;return a&&"object"==typeof a?this.omap.set(a,b):this.pmap[a]=b,b},removeKey:function(a){this._removeFromMap(this.store[a]),delete this.store[a]},_removeFromMap:function(a){"object"==typeof a?this.omap.delete(a):delete this.pmap[a]},remove:function(a){var b=this.getKey(a);return this.removeKey(b),b},getKey:function(a){return"object"==typeof a?this.omap.get(a):this.pmap[a]},getKeys:function(){return Object.keys(this.store)},setItem:function(a,b){this.store[a]=b},getItem:function(a){return this.store[a]},getItems:function(){var a=[],b=this.store;for(var c in b)a.push(b[c]);return a},applySplices:function(a){for(var b=[],c=0;c<a.length;c++){var d,e,f,g=a[c],h=[];for(d=0;d<g.removed.length;d++)e=g.removed[d],f=this.remove(e),h.push(f);var i=[];for(d=0;d<g.addedCount;d++)e=this.userArray[g.index+d],f=this.add(e),i.push(f);b.push({index:g.index,removed:h,removedItems:g.removed,added:i})}return b}},Polymer.Collection.get=function(a){return Polymer._collections.get(a)||new Polymer.Collection(a)},Polymer({is:"dom-repeat",extends:"template",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],detached:function(){if(this.rows)for(var a=0;a<this.rows.length;a++)this._detachRow(a);this.rows=null},ready:function(){this._instanceProps={__key__:!0},this._instanceProps[this.as]=!0,this._instanceProps[this.indexAs]=!0,this.ctor||this.templatize(this)},_sortChanged:function(){var a=this._getRootDataHost(),b=this.sort;this._sortFn=b&&("function"==typeof b?b:function(){return a[b].apply(a,arguments)}),this._fullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_filterChanged:function(){var a=this._getRootDataHost(),b=this.filter;this._filterFn=b&&("function"==typeof b?b:function(){return a[b].apply(a,arguments)}),this._fullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(a){if("items"==a.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._splices=[],this._fullRefresh=!0,this._debounceTemplate(this._render);else if("items.splices"==a.path)this._splices=this._splices.concat(a.value.keySplices),this._debounceTemplate(this._render);else{var b=a.path.slice(6);this._forwardItemPath(b,a.value),this._checkObservedPaths(b)}},_checkObservedPaths:function(a){if(this._observePaths){a=a.substring(a.indexOf(".")+1);for(var b=this._observePaths,c=0;c<b.length;c++)if(0===a.indexOf(b[c]))return this._fullRefresh=!0,void(this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render))}},render:function(){this._fullRefresh=!0,this.debounce("render",this._render),this._flushTemplates()},_render:function(){var a=this.collection;this._fullRefresh||(this._sortFn?this._applySplicesViewSort(this._splices):this._filterFn?this._fullRefresh=!0:this._applySplicesArraySort(this._splices)),this._fullRefresh&&(this._sortAndFilter(),this._fullRefresh=!1),this._splices=[];var b=this._rowForKey={},c=this._orderedKeys;this.rows=this.rows||[];for(var d=0;d<c.length;d++){var e=c[d],f=a.getItem(e),g=this.rows[d];b[e]=d,g||this.rows.push(g=this._insertRow(d,null,f)),g[this.as]=f,g.__key__=e,g[this.indexAs]=d}for(;d<this.rows.length;d++)this._detachRow(d);this.rows.splice(c.length,this.rows.length-c.length),this.fire("dom-change")},_sortAndFilter:function(){var a=this.collection;if(this._sortFn)this._orderedKeys=a?a.getKeys():[];else{this._orderedKeys=[];var b=this.items;if(b)for(var c=0;c<b.length;c++)this._orderedKeys.push(a.getKey(b[c]))}this._filterFn&&(this._orderedKeys=this._orderedKeys.filter(function(b){return this._filterFn(a.getItem(b))},this)),this._sortFn&&this._orderedKeys.sort(function(b,c){return this._sortFn(a.getItem(b),a.getItem(c))}.bind(this))},_keySort:function(a,b){return this.collection.getKey(a)-this.collection.getKey(b)},_applySplicesViewSort:function(a){var b=this.collection,c=this._orderedKeys,d=this.rows,e=[],f=[],g=[];this._sortFn||this._keySort.bind(this);if(a.forEach(function(a){for(var b=0;b<a.removed.length;b++){var c=this._rowForKey[a.removed[b]];null!=c&&e.push(c)}for(var b=0;b<a.added.length;b++)f.push(a.added[b])},this),e.length){e.sort();for(var h=e.length-1;h>=0;h--){var i=e[h];g.push(this._detachRow(i)),d.splice(i,1),c.splice(i,1)}}if(f.length){this._filterFn&&(f=f.filter(function(a){return this._filterFn(b.getItem(a))},this)),f.sort(function(a,c){return this._sortFn(b.getItem(a),b.getItem(c))}.bind(this));for(var j=0,h=0;h<f.length;h++)j=this._insertRowIntoViewSort(j,f[h],g)}},_insertRowIntoViewSort:function(a,b,c){for(var d=this.collection,e=d.getItem(b),f=this.rows.length-1,g=-1,h=this._sortFn||this._keySort.bind(this);a<=f;){var i=a+f>>1,j=this._orderedKeys[i],k=h(d.getItem(j),e);if(k<0)a=i+1;else{if(!(k>0)){g=i;break}f=i-1}}return g<0&&(g=f+1),this._orderedKeys.splice(g,0,b),this.rows.splice(g,0,this._insertRow(g,c,d.getItem(b))),g},_applySplicesArraySort:function(a){var b=this._orderedKeys,c=[];a.forEach(function(a){for(var b=0;b<a.removed.length;b++)c.push(this._detachRow(a.index+b));this.rows.splice(a.index,a.removed.length)},this);var d=this.collection;a.forEach(function(a){var e=[a.index,a.removed.length].concat(a.added);b.splice.apply(b,e);for(var f=0;f<a.added.length;f++){var g=d.getItem(a.added[f]),h=this._insertRow(a.index+f,c,g);this.rows.splice(a.index+f,0,h)}},this)},_detachRow:function(a){for(var b=this.rows[a],c=(Polymer.dom(this).parentNode,0);c<b._children.length;c++){var d=b._children[c];Polymer.dom(b.root).appendChild(d)}return b},_insertRow:function(a,b,c){var d=b&&b.pop()||this._generateRow(a,c),e=this.rows[a],f=e?e._children[0]:this,g=Polymer.dom(this).parentNode;return Polymer.dom(g).insertBefore(d.root,f),d},_generateRow:function(a,b){var c={__key__:this.collection.getKey(b)};c[this.as]=b,c[this.indexAs]=a;var d=this.stamp(c);return d},_hideChildren:function(a){if(this.rows)for(var b=0;b<this.rows.length;b++)for(var c=this.rows[b]._children,d=0;d<c.length;d++){var e=c[d];e.style&&(e.style.display=a?"none":""),e._hideTemplateChildren=a}},_forwardInstancePath:function(a,b,c){if(0===b.indexOf(this.as+"."))return this.notifyPath("items."+a.__key__+"."+b.slice(this.as.length+1),c),!0},_forwardParentProp:function(a,b){this.rows&&this.rows.forEach(function(c){c[a]=b},this)},_forwardParentPath:function(a,b){this.rows&&this.rows.forEach(function(c){c.notifyPath(a,b,!0)},this)},_forwardItemPath:function(a,b){if(this._rowForKey){var c=a.indexOf("."),d=a.substring(0,c<0?a.length:c),e=this._rowForKey[d],f=this.rows[e];f&&(c>=0?(a=this.as+"."+a.substring(c+1),f.notifyPath(a,b,!0)):f[this.as]=b)}},modelForElement:function(a){for(var b;a;)if(b=a._templateInstance){if(b.dataHost==this)return b;a=b.dataHost}else a=a.parentNode},itemForElement:function(a){var b=this.modelForElement(a);return b&&b[this.as]},keyForElement:function(a){var b=this.modelForElement(a);return b&&b.__key__},indexForElement:function(a){var b=this.modelForElement(a);return b&&b[this.indexAs]}}),Polymer({is:"array-selector",properties:{items:{type:Array,observer:"_itemsChanged"},selected:{type:Object,notify:!0},toggle:Boolean,multi:Boolean},_itemsChanged:function(){if(Array.isArray(this.selected))for(var a=0;a<this.selected.length;a++)this.unlinkPaths("selected."+a);else this.unlinkPaths("selected");this.multi?this.selected=[]:this.selected=null},deselect:function(a){if(this.multi){var b=Polymer.Collection.get(this.selected),c=this.selected.indexOf(a);if(c>=0){var d=b.getKey(a);return this.splice("selected",c,1),this.unlinkPaths("selected."+d),!0}}else this.selected=null,this.unlinkPaths("selected")},select:function(a){var b=Polymer.Collection.get(this.items),c=b.getKey(a);if(this.multi){var d=Polymer.Collection.get(this.selected),e=d.getKey(a);e>=0?this.deselect(a):this.toggle&&(this.push("selected",a),this.async(function(){e=d.getKey(a),this.linkPaths("selected."+e,"items."+c)}))}else this.toggle&&a==this.selected?this.deselect():(this.linkPaths("selected","items."+c),this.selected=a)}}),Polymer({is:"dom-if",extends:"template",properties:{if:{type:Boolean,value:!1},restamp:{type:Boolean,value:!1}},behaviors:[Polymer.Templatizer],observers:["_queueRender(if, restamp)"],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){this._teardownInstance()},attached:function(){this.if&&this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||(this._wrapTextNodes(this._content||this.content),this.templatize(this)),this._ensureInstance(),this._hideTemplateChildren=!1):this.restamp&&this._teardownInstance(),!this.restamp&&this._instance&&(this._hideTemplateChildren=!this.if),this.if!=this._lastIf&&(this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){if(!this._instance){this._instance=this.stamp();var a=this._instance.root,b=Polymer.dom(Polymer.dom(this).parentNode);b.insertBefore(a,this)}},_teardownInstance:function(){if(this._instance){var a=this._instance._children;if(a){var b=Polymer.dom(Polymer.dom(a[0]).parentNode);a.forEach(function(a){b.removeChild(a)})}this._instance=null}},_wrapTextNodes:function(a){for(var b=a.firstChild;b;b=b.nextSibling)if(b.nodeType===Node.TEXT_NODE){var c=document.createElement("span");a.insertBefore(c,b),c.appendChild(b),b=c}},_hideChildren:function(a){if(this._instance)for(var b=this._instance._children,c=0;c<b.length;c++){var d=b[c];d.style.display=a?"none":"",d._hideTemplateChildren=a}},_forwardParentProp:function(a,b){this._instance&&(this._instance[a]=b)},_forwardParentPath:function(a,b){this._instance&&this._instance.notifyPath(a,b,!0)}}),Polymer.ImportStatus={_ready:!1,_callbacks:[],whenLoaded:function(a){this._ready?a():this._callbacks.push(a)},_importsLoaded:function(){this._ready=!0,this._callbacks.forEach(function(a){a()}),this._callbacks=[]}},window.addEventListener("load",function(){Polymer.ImportStatus._importsLoaded()}),window.HTMLImports&&HTMLImports.whenReady(function(){Polymer.ImportStatus._importsLoaded()}),Polymer({is:"dom-bind",extends:"template",created:function(){Polymer.ImportStatus.whenLoaded(this._readySelf.bind(this))},_registerFeatures:function(){this._prepExtends(),this._prepConstructor()},_insertChildren:function(){var a=Polymer.dom(Polymer.dom(this).parentNode);a.insertBefore(this.root,this)},_removeChildren:function(){if(this._children)for(var a=0;a<this._children.length;a++)this.root.appendChild(this._children[a])},_initFeatures:function(){},_scopeElementClass:function(a,b){return this.dataHost?this.dataHost._scopeElementClass(a,b):b},_prepConfigure:function(){var a={};for(var b in this._propertyEffects)a[b]=this[b];this._setupConfigure=this._setupConfigure.bind(this,a)},attached:function(){this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),Polymer.Base._initFeatures.call(this),this._children=Array.prototype.slice.call(this.root.childNodes)),this._insertChildren(),this.fire("dom-change")},detached:function(){this._removeChildren()}});