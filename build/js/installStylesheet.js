function getStylesheetData(a,b){var c=document.querySelector('link[rel="'+a+'"]').getAttribute("href");if(c)if(0===c.indexOf("#"))b(document.getElementById(c.slice(1)).innerText);else{var d=new XMLHttpRequest;if(d.onreadystatechange=function(){4===d.readyState&&b&&b(d.status>=400?null:d.responseText)},c.length>2e3){var e=c.split("?");d.open("POST",e[0],!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send(e[1])}else d.open("GET",c,!0),d.send()}}document.addEventListener("stylishInstallChrome",function(){getStylesheetData("stylish-description",function(){getStylesheetData("stylish-description",function(a){getStylesheetData("stylish-code-chrome",function(b){var c=document.querySelector('a[rel="author dct:creator"]');c=c?c.innerText:"anonymous",window.confirm('Do you want to install "'+a+'" as a stylesheet to CRM?')&&(chrome.runtime.sendMessage({type:"styleInstall",data:{code:b,author:c}}),getStylesheetData("stylish-install-ping-url-chrome"),alert("installed"))})})})},!1);var button=document.getElementById("stylish-installed-style-not-installed-chrome");button&&button.childNodes&&button.childNodes[2]&&(button.childNodes[2].nodeValue="Install with CRM"),window.setTimeout(function(){var a=new CustomEvent("styleCanBeInstalledChrome",{detail:null});document.dispatchEvent(a)},50);