/*
 * Original can be found at https://github.com/SanderRonde/CustomRightClickMenu 
 * This code may only be used under the MIT style license found in the LICENSE.txt file 
**/
"use strict";var paperDropdownBehaviorProperties={selected:{type:Number,value:0,notify:!0,reflectToAttribute:!0},raised:{type:Boolean,value:!1}},PDB=function(){function a(){}return a._addListener=function(a,b,c){for(var d=!1,e=0;e<this._listeners.length;e++)this._listeners[e].listener===a&&this._listeners[e].id===b&&(d=!0);d||this._listeners.push({id:b,listener:a,thisArg:c})},a._fireListeners=function(){var a=this,b=this.selected;this.selected=this._paperMenu.selected,this._listeners.forEach(function(c){c.id===a.id&&c.listener.apply(c.thisArg,[b,a._paperMenu.selected])}),this.onchange&&this.onchange(b,this._paperMenu.selected)},a.refreshListeners=function(){var a=this;$(this).find("paper-item").off("click").on("click",function(){setTimeout(function(){a._fireListeners(),a._dropdownSelectChange&&a._dropdownSelectChange(a)},50)})},a.ready=function(){var a=this;this.refreshListeners(),this._paperDropdownEl=this,this._paperMenu=$(this).find("paper-menu")[0],setTimeout(function(){$(a.$.dropdownSelectedCont).insertBefore($(a).find(".content"))},200),this._dropdownSelectedCont=$(this).find("#dropdownSelectedCont")[0],"false"===this.getAttribute("indent")&&(this.indent=!1),this.raised&&window.requestAnimationFrame(function(b){a._animateBoxShadowIn(b,a)})},a._animateBoxShadowIn=function(a,b){if(b._startTime||(b._startTime=a),a-100<b._startTime){var c=(a-b._startTime)/100,d=2*c;b._paperMenu.style.boxShadow="0 "+d+"px "+d+"px 0 rgba(0,0,0,0.14), 0 "+c+"px "+5*c+"px 0 rgba(0,0,0,0.12), 0 "+3*c+"px "+c+"px "+-d+"px rgba(0,0,0,0.2)",b.indent||(b._dropdownSelectedCont.style.marginLeft=15*c+"px"),window.requestAnimationFrame(function(a){b._animateBoxShadowIn(a,b)})}else b.indent||(b._dropdownSelectedCont.style.marginLeft="15px"),b._startTime=null,b._paperMenu.style.boxShadow="0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)"},a._animateBoxShadowOut=function(a,b){if(b._startTime||(b._startTime=a),a-100<b._startTime){var c=1-(a-b._startTime)/100,d=2*c;b._paperMenu.style.boxShadow="0 "+d+"px "+d+"px 0 rgba(0,0,0,0.14), 0 "+c+"px "+5*c+"px 0 rgba(0,0,0,0.12), 0 "+3*c+"px "+c+"px "+-d+"px rgba(0,0,0,0.2)",b.indent||(b._dropdownSelectedCont.style.marginLeft=15*c+"px"),window.requestAnimationFrame(function(a){b._animateBoxShadowOut(a,b)})}else b.indent||(b._dropdownSelectedCont.style.marginLeft="0"),b._startTime=null,b._paperMenu.style.boxShadow="rgba(0, 0, 0, 0) 0 0 0 0, rgba(0, 0, 0, 0) 0 0 0 0, rgba(0, 0, 0, 0) 0 0 0 0",b._paperDropdownEl.$.dropdownArrow.style.transform="rotate(90deg)"},a.open=function(){this.onopen&&this.onopen();var a=this;this._expanded||(this._expanded=!0,this.raised||window.requestAnimationFrame(function(b){a._animateBoxShadowIn(b,a)}),setTimeout(function(){var b=$(a._paperMenu).find(".content");b.css("display","block");var c={height:b[0].scrollHeight};void 0!==a.overflowing&&(c.marginBottom=-(b[0].scrollHeight+14)),b.stop().animate(c,{easing:"easeOutCubic",duration:300,complete:function(){a.$.dropdownArrow.style.transform="rotate(270deg)"}})},100))},a.close=function(){var a=this;if(this._expanded){this._expanded=!1;var b={height:0};void 0!==this.overflowing&&(b.marginBottom=-15),$(this).find("paper-menu").find(".content").stop().animate(b,{easing:"easeInCubic",duration:300,complete:function(){this.style.display="none",a.raised||window.requestAnimationFrame(function(b){a._animateBoxShadowOut(b,a)})}})}},a._toggleDropdown=function(){this.disabled||(this._expanded?this.close():this.open())},a.getSelected=function(){return $(this).find(".iron-selected.addLibrary")[0]&&this.selected.pop(),"number"==typeof this.selected?[this.selected]:this.selected},a.disable=function(){this.disabled=!0,this._expanded&&this.close&&this.close(),this.$.dropdownSelected.style.color="rgb(176, 220, 255)"},a.enable=function(){this.disabled=!1,this.$.dropdownSelected.style.color="rgb(38, 153, 244)"},a}();PDB.properties=paperDropdownBehaviorProperties,PDB._startTime=null,PDB._paperDropdownEl=null,PDB._paperMenu=null,PDB._dropdownSelectedCont=null,PDB._listeners=[],PDB._expanded=!1,PDB.indent=!0,PDB.disabled=!1,Polymer.PaperDropdownBehavior=PDB;